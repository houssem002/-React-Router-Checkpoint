import React from 'react';
import { BrowserRouter as Router, Route, Routes } from 'react-router-dom';
import MovieList from './MovieList'; 
import MovieDescription from './MovieDescription'; 

function App() {
  return (
    <Router>
      <Routes>
        <Route path="/" element={<MovieList />} />
        <Route path="/movie/:id" element={<MovieDescription />} />
      </Routes>
    </Router>
  );
}


const movies = [
    {
      id: 1,
      title: 'Inception',
      description: 'A mind-bending thriller directed by Christopher Nolan.',
      trailer: 'https://www.youtube.com/embed/YoHD9XEInc0', 
      image: '/images/inception.jpg'
    },
    {
      id: 2,
      title: 'The Dark Knight',
      description: 'Batman faces his greatest foe, the Joker.',
      trailer: 'https://www.youtube.com/embed/EXeTwQWrcwY',
      image: '/images/dark_knight.jpg'
    },
    
    ];
function MovieList() {
    const movies = [
     {
        id: 1,
        title: 'Inception',
        description: 'A mind-bending thriller directed by Christopher Nolan.',
        trailer: 'https://www.youtube.com/embed/YoHD9XEInc0',
        image: '/images/inception.jpg'
      },
      {
        id: 2,
        title: 'The Dark Knight',
        description: 'Batman faces his greatest foe, the Joker.',
        trailer: 'https://www.youtube.com/embed/EXeTwQWrcwY',
        image: '/images/dark_knight.jpg'
      },
      
    ];
    return (
      <div>
        <h1>Movie List</h1>
        <div className="movie-grid">
          {movies.map((movie) => (
            <div key={movie.id} className="movie-card">
              <img src={movie.image} alt={movie.title} />
              <h3>{movie.title}</h3>
              <p>{movie.description}</p>
              <Link to={`/movie/${movie.id}`}>More Info</Link>
            </div>
          ))}
        </div>
      </div>
    );
  }
function MovieDescription() {
    const { id } = useParams();  
    const movies = [
    {
        id: 1,
        title: 'Inception',
        description: 'A mind-bending thriller directed by Christopher Nolan.',
        trailer: 'https://www.youtube.com/embed/YoHD9XEInc0',
        image: '/images/inception.jpg'
      },
      {
        id: 2,
        title: 'The Dark Knight',
        description: 'Batman faces his greatest foe, the Joker.',
        trailer: 'https://www.youtube.com/embed/EXeTwQWrcwY',
        image: '/images/dark_knight.jpg'
      }
    ];
  
    // Find the movie based on the id parameter from the URL
    const movie = movies.find((movie) => movie.id === parseInt(id));
  
    if (!movie) return <p>Movie not found</p>;
  
    return (
      <div>
        <h1>{movie.title}</h1>
        <img src={movie.image} alt={movie.title} />
        <p>{movie.description}</p>
        <div>
          <h2>Trailer</h2>
          <iframe
            width="560"
            height="315"
            src={movie.trailer}
            title="YouTube video player"
            frameBorder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowFullScreen
          ></iframe>
        </div>
        <Link to="/">Back to Home</Link>  {/* Link back to the Home page */}
      </div>
    );
  }

export default MovieDescription;
export default MovieList;
export default App;